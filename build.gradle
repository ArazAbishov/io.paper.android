apply plugin: "com.gradle.build-scan"

buildscript {
    repositories {
        jcenter()

        // Required by build-scan and error-prone plugins.
        maven {
            url("https://plugins.gradle.org/m2/")
        }

        // required by crashlytics
        maven {
            url("https://maven.fabric.io/public")
        }
    }

    dependencies {
        classpath "com.android.tools.build:gradle:2.2.3"

        // provides insight on how many method references
        // are present in dex file
        classpath "com.getkeepsafe.dexcount:dexcount-gradle-plugin:0.6.1"

        // semantic, static analysis of the source code
        classpath "net.ltgt.gradle:gradle-errorprone-plugin:0.0.8"

        // allows to set BuildConfig fields during compilation
        // without breaking incremental compilation
        classpath "hu.supercluster:paperwork-plugin:1.2.7"

        // enables cloud features of gradle plugin
        classpath "com.gradle:build-scan-plugin:1.3"

        // https://docs.fabric.io/android/changelog.html#fabric-gradle-plugin
        classpath "io.fabric.tools:gradle:1.22.0"
    }
}

allprojects {
    repositories {
        jcenter()
    }
}

task clean(type: Delete) {
    delete rootProject.buildDir
}

buildScan {
    licenseAgreementUrl = "https://gradle.com/terms-of-service"
    licenseAgree = "yes"
}

ext {
    versions = [
            sdk        : 24,
            tools      : "24.0.2",
            minSdk     : 15,
            versionCode: 1,
            versionName: "0.1"
    ]

    libraries = [
            support        : "25.1.0",
            dagger         : "2.6",
            autovalue      : "1.2",
            autovaluecursor: "1.0.1",
            sqlbrite       : "1.1.0",
            rxbinding      : "0.4.0",
            butterknife    : "8.2.1",
            timber         : "4.5.0",
            crashlytics    : "2.6.5",
            paperwork      : "1.2.7",
            leakcanary     : "1.5",

            // test dependencies
            espresso       : "2.2.2",
            mockito        : "2.2.5",
            assertj        : "2.5.0",
            junit          : "4.12",
            equalsverifier : "2.1.7",
            truth          : "0.30",

            // plugins
            errorpronecore : "2.0.15"
    ]
}